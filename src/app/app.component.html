<div class="title">
  <h1>Система краудфандинга проектов</h1>
</div>
<div *ngIf="!user">
  <app-auth></app-auth>
</div>
<div *ngIf="user">
  <app-profile [profileUser]="user"></app-profile>
  <div class="logout" (click)="logout()">
    <h1>Выйти</h1>
  </div>
</div>
<div *ngIf="user">
  <h1 style="text-align: center;">Проекты</h1>
  <div class="project-list">
    <div *ngFor="let p of projects" class="project-card">
      <h2> {{ p.name }} </h2>
      <p> {{ p.description }} </p>
      <div class="proj-author">
        <h3> {{ p.author.id }} {{ p.author.firstName }} {{ p.author.lastName }}</h3>
      </div>
      
      <div class="proj-images" *ngIf="p.images.length>0">
        <div *ngFor="let image of p.images">
          <img [src]="'http://localhost:8080/api/v1/projects/'+p.id+'/images/'+image.id">
        </div>
      </div>
      <div class="proj-comments" *ngIf="p.comments.length>0">
        <div *ngFor="let com of p.comments">
          <div class="proc-comment-card">
            <h3>{{ com.id }} {{ com.text }} </h3>
            <h4> {{ com.user.id }} {{ com.user.firstName }} {{ com.user.lastName }}</h4>
          </div>
        </div>
      </div>
      <div class="project-card-buttons">
        <button class="proj-comment-btn">Оставить комментарий</button>
        <button class="proc-support-btn">Поддержать проект</button>
      </div>
    </div>
  </div>

</div>